package com.java.asset.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import com.java.asset.model.Employ;
import com.java.asset.util.ConnectionHelper;

public class EmployDaoImpl implements EmployDao{
	Connection con;
	PreparedStatement pst;
	@Override
	public String addEmployDao(Employ employ) throws ClassNotFoundException, SQLException {
	    Connection con = ConnectionHelper.getConnection();
	    String cmd = "INSERT INTO Employee (Username, PasswordHash, Department, Email, Type) VALUES (?, ?, ?, ?, ?)";
	    PreparedStatement pstmt = con.prepareStatement(cmd);
	        pstmt.setString(1, employ.getUserName());
	        pstmt.setString(2, employ.getPassword()); // Make sure to hash this in a real app
	        pstmt.setString(3, employ.getDept());
	        pstmt.setString(4, employ.getEmail());
	        pstmt.setString(5, employ.getType());
	        con.close();
	        int rowsInserted = pstmt.executeUpdate();
	        if (rowsInserted > 0) {
	            return "Employee added successfully.";
	        } else {
	            return "Failed to add employee.";
	        }
	   
	        
	    }
	


	@Override
	public String showEmployDao() {
		// TODO Auto-generated method stub
		return null;
	}

}
