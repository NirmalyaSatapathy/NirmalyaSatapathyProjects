package com.java.Carrental.bal;

import com.java.Carrental.Exception.Uexception;
import com.java.Carrental.dao.CarImp;
import com.java.Carrental.dao.LeaseImp;
import com.java.Carrental.model.Lease;

public class Leaseimpbal {
	public String createLease(Lease lease)
	{
		StringBuilder errors = new StringBuilder();
		    if (lease.getLeaseId() <= 0)
		        errors.append("Lease ID must be positive.");

		    if (lease.getCustomerId() <= 0)
		       errors.append("Customer ID must be positive.");

		    if (lease.getCarId() <= 0)
		       errors.append("Car ID must be positive.");

		    if (lease.getType() == null || lease.getType().trim().isEmpty())
		        errors.append("Lease type cannot be empty.");

		    if (lease.getDuration() <= 0)
		       errors.append("Duration must be positive.");

		    if (lease.getStartDate() == null || lease.getEndDate() == null)
		       errors.append("Start date and end date cannot be null.");

		    if (lease.getEndDate().isBefore(lease.getStartDate()))
		        errors.append("End date must be after start date.");

		    if (lease.getCost() <= 0)
		       errors.append("Cost must be greater than zero.");
		    if (errors.length() > 0) {
	            throw new Uexception(errors.toString());
	        }
	        else
	        {
	        	return new LeaseImp().createLease( lease);
	        }
		}

	}

