package com.java.Carrental;
import static org.junit.jupiter.api.Assertions.*;

import java.time.LocalDate;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import com.java.Carrental.Exception.CarNotFoundException;
import com.java.Carrental.Exception.CustomerNotFoundException;
import com.java.Carrental.Exception.LeaseNotFoundException;
import com.java.Carrental.bal.CustomerImpbal;
import com.java.Carrental.bal.Leaseimpbal;
import com.java.Carrental.bal.carImpBal;
import com.java.Carrental.dao.CarImp;
import com.java.Carrental.dao.Cardao;
import com.java.Carrental.dao.CustomerDao;
import com.java.Carrental.dao.CustomerImp;
import com.java.Carrental.dao.LeaseImp;
import com.java.Carrental.dao.Leasedao;
import com.java.Carrental.model.Car;
import com.java.Carrental.model.Lease;


public class CarRentalSystemTest {

    private carImpBal carDao;
    private CustomerImpbal customerDao;
    private Leaseimpbal leaseDao;

    @BeforeEach
    public void setup() {
        carDao = new carImpBal();
        customerDao = new CustomerImpbal();
        leaseDao = new Leaseimpbal();
    }

    
    @Test
    public void testLeaseRetrievedSuccessfully() throws Exception {
        Lease lease = leaseDao.getLeasebyIdbal(1);
        assertNotNull(lease);
        assertEquals(1, lease.getLeaseId());
    }

    @Test
    public void testInvalidCustomerThrowsException() {
        assertThrows(CustomerNotFoundException.class, () -> {
            customerDao.getCustomerByIdbal(-1);
        });
    }

    @Test
    public void testInvalidCarThrowsException() {
        assertThrows(CarNotFoundException.class, () -> {
            carDao.findCarByIdbal(-1);
        });
    }

    @Test
    public void testInvalidLeaseThrowsException() {
        assertThrows(LeaseNotFoundException.class, () -> {
            leaseDao.getLeasebyIdbal(-1);
        });
    }
}
